{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/pablo/Dropbox/ASNPORTS/PELICULAS/Flick%20Verse/flick-verse/src/components/DetailsClient.jsx"],"sourcesContent":["'use client'\n\nimport { useRef, useState } from 'react'\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport 'swiper/swiper-bundle.css'\n\nimport {\n  CalendarIcon,\n  ClockIcon,\n  FilmIcon,\n  GlobeIcon,\n  StarIcon,\n  MessageSquareIcon,\n  BadgeDollarSignIcon,\n  LinkIcon,\n  TagIcon,\n  ChevronLeft,\n  ImageIcon,\n  ChevronRight\n} from 'lucide-react'\n\nexport default function DetailsClient({ type, id, data, recommendations, castData, providers, reviews }) {\n  const image = data.poster_path || data.profile_path\n  const title = data.title || data.name\n  const recRef = useRef()\n  const [reviewLimit, setReviewLimit] = useState(2)\n  const [useBackdrop, setUseBackdrop] = useState(true)\n\n  const scrollLeft = ref => ref.current.scrollBy({ left: -400, behavior: 'smooth' })\n  const scrollRight = ref => ref.current.scrollBy({ left: 400, behavior: 'smooth' })\n\n  return (\n    <div className=\"relative min-h-screen\">\n      {/* Fondo difuminado */}\n      {useBackdrop && data.backdrop_path ? (\n        <>\n          <div\n            className=\"absolute inset-4 z-0 bg-cover bg-center blur-[10px]\"\n            style={{\n              backgroundImage: `url(https://image.tmdb.org/t/p/original${data.backdrop_path})`,\n            }}\n          />\n          <div className=\"absolute inset-0 z-0\" />\n        </>\n      ) : (\n        <div className=\"absolute inset-0 z-0 bg-black\" />\n      )}\n\n      {/* Botón de alternancia de fondo */}\n      <div className=\"absolute top-4 right-4 z-20\">\n        <button\n          onClick={() => setUseBackdrop(prev => !prev)}\n          className=\"p-2 rounded-full transition-colors\"\n          aria-label=\"Alternar fondo\"\n        >\n          <ImageIcon\n            className={`w-6 h-6 ${\n              useBackdrop\n                ? 'text-blue-500 hover:text-blue-400'\n                : 'text-gray-500 hover:text-gray-400'\n            }`}\n          />\n        </button>\n      </div>\n  \n      {/* Capa oscura sutil opcional para contraste */}\n      <div className=\"absolute inset-0 z-0 bg-black/50\" />\n  \n      {/* Contenido principal */}\n      <div className=\"relative z-10 px-4 py-10 lg:py-16 max-w-6xl mx-auto text-white\">\n\n      {/* Cabecera */}\n      <div className=\"flex flex-col lg:flex-row gap-8 mb-12\">\n        <div className=\"w-full lg:w-1/3 max-w-sm flex flex-col gap-4\">\n          {image && (\n            <img src={`https://image.tmdb.org/t/p/w500${image}`} alt={title} className=\"rounded-lg shadow-lg w-full h-auto object-cover\" />\n          )}\n\n          {/* Plataformas */}\n          {providers && providers.length > 0 && (\n            <div className=\"mt-2\">\n              <div className=\"flex flex-wrap gap-1\">\n                {providers.map(p => (\n                  <div key={p.provider_id} className=\"p-2 flex items-center\">\n                    <img\n                      src={`https://image.tmdb.org/t/p/original${p.logo_path}`}\n                      alt={p.provider_name}\n                      className=\"w-10 h-10 object-contain rounded-lg transition-transform duration-300 ease-in-out hover:scale-110\"\n                    />\n                  </div>\n                ))}\n                \n                {/* Icono de JustWatch */}\n                <a\n                  href={`https://www.themoviedb.org/${type}/${id}/watch`}\n                  target=\"_blank\"\n                  className=\"p-2 flex items-center\"\n                  rel=\"noreferrer\"\n                >\n                  <img\n                    src=\"https://play-lh.googleusercontent.com/Riuz226TXAawu8ZXlL7wnsjtMHkTMTDh_RSRiozAdoKe2TyGG4cLp3rPB0CxQFEUzFc\"\n                    alt=\"JustWatch\"\n                    className=\"object-contain w-11 h-11 rounded-lg transition-transform duration-300 ease-in-out hover:scale-110\"\n                  />\n                </a>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex-1 flex flex-col gap-6\">\n          <div>\n            <h1 className=\"text-4xl font-bold mb-2 mt-2\">{title}</h1>\n\n            {data.tagline && (\n              <p className=\"italic text-gray-300 mb-4\">\n                <TagIcon className=\"inline w-4 h-4 mr-1\" /> {data.tagline}\n              </p>\n            )}\n\n            {data.overview && (\n              <p className=\"text-gray-300 text-base leading-relaxed\">\n                <MessageSquareIcon className=\"inline w-4 h-4 mr-1\" /> {data.overview}\n              </p>\n            )}\n          </div>\n\n          <div className=\"flex flex-wrap gap-2\">\n            {data.genres?.map((genre) => {\n              // Definir un color para cada género\n              const genreColors = {\n                \"Action\": \"bg-red-500\",\n                \"Drama\": \"bg-blue-500\",\n                \"Comedy\": \"bg-yellow-500\",\n                \"Thriller\": \"bg-green-500\",\n                \"Romance\": \"bg-pink-500\",\n                \"Horror\": \"bg-purple-500\",\n                // Agregar más géneros y colores según sea necesario\n              };\n\n              // Determinar el color del género, si no existe se asigna un color predeterminado\n              const genreColor = genreColors[genre.name] || \"bg-gray-600\";\n\n              return (\n                <span key={genre.id} className={`${genreColor} text-white px-3 py-1.5 rounded-full text-sm`}>\n                  {genre.name}\n                </span>\n              );\n            })}\n          </div>\n\n          <div className=\"text-sm text-gray-300 bg-gray-800 p-5 rounded-lg shadow-md space-y-1\">\n            {data.original_title && (\n              <p>\n                <FilmIcon className=\"inline w-4 h-4 mr-2 text-blue-400\" /> <strong>Título original:</strong> {data.original_title}\n              </p>\n            )}\n            {data.release_date && (\n              <p>\n                <CalendarIcon className=\"inline w-4 h-4 mr-2 text-green-400\" /> <strong>Estreno:</strong> {data.release_date}\n              </p>\n            )}\n            {data.runtime && (\n              <p>\n                <ClockIcon className=\"inline w-4 h-4 mr-2 text-yellow-400\" /> <strong>Duración:</strong> {data.runtime} min\n              </p>\n            )}\n            {data.original_language && (\n              <p>\n                <GlobeIcon className=\"inline w-4 h-4 mr-2 text-purple-400\" /> <strong>Idioma:</strong> {data.original_language}\n              </p>\n            )}\n            {data.vote_average && (\n              <p>\n                <StarIcon className=\"inline w-4 h-4 mr-2 text-yellow-300\" /> <strong>Nota media:</strong> {data.vote_average.toFixed(1)}\n              </p>\n            )}\n            {data.vote_count && (\n              <p>\n                <StarIcon className=\"inline w-4 h-4 mr-2 text-yellow-300\" /> <strong>Votos:</strong> {data.vote_count}\n              </p>\n            )}\n            {type === 'tv' && (\n              <>\n                {data.first_air_date && (\n                  <p>\n                    <CalendarIcon className=\"inline w-4 h-4 mr-2 text-green-400\" /> <strong>Primera emisión:</strong> {data.first_air_date}\n                  </p>\n                )}\n                {data.last_air_date && (\n                  <p>\n                    <CalendarIcon className=\"inline w-4 h-4 mr-2 text-red-400\" /> <strong>Última emisión:</strong> {data.last_air_date}\n                  </p>\n                )}\n                {data.number_of_seasons && (\n                  <p>\n                    <FilmIcon className=\"inline w-4 h-4 mr-2 text-blue-300\" /> <strong>Temporadas:</strong> {data.number_of_seasons}\n                  </p>\n                )}\n                {data.number_of_episodes && (\n                  <p>\n                    <FilmIcon className=\"inline w-4 h-4 mr-2 text-blue-300\" /> <strong>Episodios:</strong> {data.number_of_episodes}\n                  </p>\n                )}\n                {data.episode_run_time?.[0] && (\n                  <p>\n                    <ClockIcon className=\"inline w-4 h-4 mr-2 text-yellow-400\" /> <strong>Duración por episodio:</strong> {data.episode_run_time[0]} min\n                  </p>\n                )}\n                {data.status && (\n                  <p>\n                    <StarIcon className=\"inline w-4 h-4 mr-2 text-gray-300\" /> <strong>Estado:</strong> {data.status}\n                  </p>\n                )}\n              </>\n            )}\n            {data.budget > 0 && (\n              <p>\n                <BadgeDollarSignIcon className=\"inline w-4 h-4 mr-2 text-green-500\" /> <strong>Presupuesto:</strong> ${data.budget.toLocaleString()}\n              </p>\n            )}\n            {data.revenue > 0 && (\n              <p>\n                <BadgeDollarSignIcon className=\"inline w-4 h-4 mr-2 text-green-500\" /> <strong>Recaudación:</strong> ${data.revenue.toLocaleString()}\n              </p>\n            )}\n            {data.homepage && (\n              <p>\n                <a\n                  href={data.homepage}\n                  target=\"_blank\"\n                  className=\"text-blue-400 hover:underline flex items-center\"\n                  rel=\"noreferrer\"\n                >\n                  <LinkIcon className=\"inline w-4 h-4 mr-2 text-blue-300\" />\n                  <strong>Sitio web</strong>\n                </a>\n              </p>\n            )}\n            {data.imdb_id && (\n              <p>\n                <a\n                  href={`https://www.imdb.com/title/${data.imdb_id}`}\n                  target=\"_blank\"\n                  className=\"text-yellow-400 hover:underline flex items-center\"\n                  rel=\"noreferrer\"\n                >\n                  <LinkIcon className=\"inline w-4 h-4 mr-2 text-yellow-300\" />\n                  <strong>Enlace IMDb</strong>\n                </a>\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Carrusel de Reparto */}\n      {castData && castData.length > 0 && (\n        <div className=\"mt-12\">\n          <h2 className=\"text-2xl font-bold text-white mb-4\">Reparto principal</h2>\n          <Swiper\n            spaceBetween={20}\n            slidesPerView={6} // Ajustado para mostrar 6 actores\n            breakpoints={{\n              640: {\n                slidesPerView: 1,\n                spaceBetween: 10,\n              },\n              768: {\n                slidesPerView: 2,\n                spaceBetween: 10,\n              },\n              1024: {\n                slidesPerView: 6, // Mostrar 6 en pantallas grandes\n                spaceBetween: 20,\n              },\n            }}\n          >\n            {castData.slice(0, 20).map(actor => (\n              <SwiperSlide key={actor.id} className=\"flex-shrink-0 text-center\">\n                <div className=\"flex flex-col items-center\">\n                  <a href={`/details/person/${actor.id}`} className=\"block\">\n                    <img\n                      src={`https://image.tmdb.org/t/p/w185${actor.profile_path}`}\n                      alt={actor.name}\n                      className=\"w-full h-60 object-cover rounded-lg\"\n                    />\n                  </a>\n                  <p className=\"mt-2 font-semibold text-sm text-white px-2 py-1 rounded\">\n                    {actor.name}\n                  </p>\n                </div>\n              </SwiperSlide>\n            ))}\n          </Swiper>\n        </div>\n      )}\n\n      {reviews && reviews.length > 0 && (\n        <div className=\"mt-12\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-2xl font-bold text-white\">Críticas de usuarios</h2>\n            {reviewLimit < reviews.length && (\n              <button\n                onClick={() => setReviewLimit(reviewLimit + 2)}\n                className=\"px-4 py-1.5 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm\"\n              >\n                Ver más críticas\n              </button>\n            )}\n          </div>\n\n          <div className=\"grid md:grid-cols-2 gap-6\">\n            {reviews.slice(0, reviewLimit).map((review) => {\n              const { author, content, created_at, id, url, author_details } = review;\n              const avatar = author_details?.avatar_path?.includes('/https')\n                ? author_details.avatar_path.slice(1) // quitar el primer slash si es URL completa\n                : `https://image.tmdb.org/t/p/w45${author_details?.avatar_path}`;\n              const rating = author_details?.rating;\n\n              return (\n                <div key={id} className=\"bg-gray-800 p-4 rounded-lg flex flex-col gap-2\">\n                  <div className=\"flex items-center gap-3\">\n                    {author_details?.avatar_path && (\n                      <img\n                        src={avatar}\n                        alt={author}\n                        className=\"w-10 h-10 rounded-full object-cover border border-gray-600\"\n                      />\n                    )}\n                    <div>\n                      <p className=\"text-white font-semibold\">{author_details?.username || author}</p>\n                      <p className=\"text-sm text-gray-400\">{new Date(created_at).toLocaleDateString()}</p>\n                    </div>\n                  </div>\n\n                  {rating && (\n                    <p className=\"text-yellow-400 text-sm mt-1\">\n                      <strong>{rating} ⭐</strong>\n                    </p>\n                  )}\n\n                  <p\n                    className=\"text-gray-300 whitespace-pre-wrap text-sm mb-2\"\n                    dangerouslySetInnerHTML={{\n                      __html: content.slice(0, 300) + '...',\n                    }}\n                  />\n\n                  <a\n                    href={`https://www.themoviedb.org/review/${id}`}\n                    target=\"_blank\"\n                    className=\"text-blue-400 text-sm self-start\"\n                    rel=\"noreferrer\"\n                  >\n                    Leer más →\n                  </a>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n      {/* Carrusel de Recomendaciones */}\n      {recommendations && recommendations.length > 0 && (\n        <div className=\"mt-12\">\n          <h2 className=\"text-2xl font-bold text-white mb-4\">Recomendaciones</h2>\n          <Swiper\n            spaceBetween={20}\n            slidesPerView={6} // Ajustado para mostrar 6 recomendaciones\n            breakpoints={{\n              640: {\n                slidesPerView: 1,\n                spaceBetween: 10,\n              },\n              768: {\n                slidesPerView: 2,\n                spaceBetween: 10,\n              },\n              1024: {\n                slidesPerView: 6, // Mostrar 6 en pantallas grandes\n                spaceBetween: 20,\n              },\n            }}\n          >\n            {recommendations.slice(0, 20).map(rec => (\n              <SwiperSlide key={rec.id} className=\"flex-shrink-0 text-center\">\n                <div className=\"relative\">\n                  {/* Enlace para redirigir al detalle de la recomendación */}\n                  <a href={`/details/${rec.media_type || type}/${rec.id}`} className=\"block\">\n                    <img\n                      src={`https://image.tmdb.org/t/p/w300${rec.poster_path}`}\n                      alt={rec.title || rec.name}\n                      className=\"w-full h-full object-cover rounded-lg\"\n                    />\n                    <div className=\"text-white p-2\">\n                      <p className=\"font-semibold text-sm\">{rec.title || rec.name}</p>\n                      {rec.vote_average && (\n                        <p className=\"text-xs text-yellow-400\">⭐ {rec.vote_average.toFixed(1)}</p>\n                      )}\n                    </div>\n                  </a>\n                </div>\n              </SwiperSlide>\n            ))}\n          </Swiper>\n        </div>\n      )}\n    </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1049, "column": 0}, "map": {"version":3,"sources":["file:///home/pablo/Dropbox/ASNPORTS/PELICULAS/Flick%20Verse/flick-verse/src/app/details/%5Btype%5D/%5Bid%5D/page.jsx"],"sourcesContent":["'use client'\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'next/navigation'; \nimport { getDetails, getRecommendations, getCredits, getProviders, getReviews, getActorMovies } from '@/lib/tmdb';\nimport DetailsClient from '@/components/DetailsClient';\n\nexport default function DetailsPage() {\n  const { type, id } = useParams();  // Acceder a los params en la ruta dinámica\n\n  const [data, setData] = useState(null);\n  const [recommendations, setRecommendations] = useState([]);\n  const [castData, setCastData] = useState([]);\n  const [providers, setProviders] = useState([]);\n  const [reviews, setReviews] = useState([]);\n\n  useEffect(() => {\n    const fetchDetails = async () => {\n      if (!type || !id) {\n        console.error(\"Missing type or id.\");\n        return;\n      }\n\n      let recommendationsData = [];\n      let reviewsData = [];\n      let providersData = [];\n      let castDataResponse = [];\n\n      const details = await getDetails(type, id);\n      setData(details);\n\n      if (type !== 'person') {\n        recommendationsData = await getRecommendations(type, id);\n        reviewsData = await getReviews(type, id);\n        providersData = await getProviders(type, id);\n      }\n\n      // Si es un actor, obtenemos la filmografía\n      if (type === 'person') {\n        const actorMovies = await getActorMovies(id); // Películas en las que el actor ha trabajado\n        castDataResponse = actorMovies?.cast || [];\n      } else {\n        castDataResponse = await getCredits(type, id);  // Para películas/series obtenemos los créditos\n      }\n\n      setRecommendations(recommendationsData?.results || []);\n      setReviews(reviewsData?.results || []);\n      setProviders(providersData?.results?.ES?.flatrate || []);\n      setCastData(castDataResponse?.cast || []);\n    };\n\n    fetchDetails();\n  }, [type, id]);\n\n  if (!data) return;\n\n  // Si no es un actor, usamos el componente de detalles de películas/series\n  return (\n    <DetailsClient \n      type={type} \n      id={id} \n      data={data} \n      recommendations={recommendations} \n      castData={castData} \n      providers={providers} \n      reviews={reviews} \n    />\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;;;;;;AAEA;;;AAJA;;;;;AAMe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD,KAAM,2CAA2C;IAE9E,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACzD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAEzC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,MAAM;sDAAe;oBACnB,IAAI,CAAC,QAAQ,CAAC,IAAI;wBAChB,QAAQ,KAAK,CAAC;wBACd;oBACF;oBAEA,IAAI,sBAAsB,EAAE;oBAC5B,IAAI,cAAc,EAAE;oBACpB,IAAI,gBAAgB,EAAE;oBACtB,IAAI,mBAAmB,EAAE;oBAEzB,MAAM,UAAU,MAAM,WAAW,MAAM;oBACvC,QAAQ;oBAER,IAAI,SAAS,UAAU;wBACrB,sBAAsB,MAAM,mBAAmB,MAAM;wBACrD,cAAc,MAAM,WAAW,MAAM;wBACrC,gBAAgB,MAAM,aAAa,MAAM;oBAC3C;oBAEA,2CAA2C;oBAC3C,IAAI,SAAS,UAAU;wBACrB,MAAM,cAAc,MAAM,eAAe,KAAK,6CAA6C;wBAC3F,mBAAmB,aAAa,QAAQ,EAAE;oBAC5C,OAAO;wBACL,mBAAmB,MAAM,WAAW,MAAM,KAAM,+CAA+C;oBACjG;oBAEA,mBAAmB,qBAAqB,WAAW,EAAE;oBACrD,WAAW,aAAa,WAAW,EAAE;oBACrC,aAAa,eAAe,SAAS,IAAI,YAAY,EAAE;oBACvD,YAAY,kBAAkB,QAAQ,EAAE;gBAC1C;;YAEA;QACF;gCAAG;QAAC;QAAM;KAAG;IAEb,IAAI,CAAC,MAAM;IAEX,0EAA0E;IAC1E,qBACE,6LAAC,sIAAA,CAAA,UAAa;QACZ,MAAM;QACN,IAAI;QACJ,MAAM;QACN,iBAAiB;QACjB,UAAU;QACV,WAAW;QACX,SAAS;;;;;;AAGf;GA7DwB;;QACD,qIAAA,CAAA,YAAS;;;KADR","debugId":null}}]
}