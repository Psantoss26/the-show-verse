{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://E%3A/ASNPORTS/PELICULAS/Flick%20Verse/flick-verse/src/lib/hooks/useAuth.js"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\n\nexport default function useAuth() {\n  const [account, setAccount] = useState(null)\n\n  useEffect(() => {\n    const storedAccount = localStorage.getItem('tmdb_account')\n    if (storedAccount) {\n      setAccount(JSON.parse(storedAccount))\n    }\n\n    const handleStorageChange = () => {\n      const updated = localStorage.getItem('tmdb_account')\n      if (updated) {\n        setAccount(JSON.parse(updated))\n      } else {\n        setAccount(null)\n      }\n    }\n\n    window.addEventListener('storage', handleStorageChange)\n    return () => window.removeEventListener('storage', handleStorageChange)\n  }, [])\n\n  return { account }\n}\n"],"names":[],"mappings":";;;AAEA;;AAFA;;AAIe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6BAAE;YACR,MAAM,gBAAgB,aAAa,OAAO,CAAC;YAC3C,IAAI,eAAe;gBACjB,WAAW,KAAK,KAAK,CAAC;YACxB;YAEA,MAAM;yDAAsB;oBAC1B,MAAM,UAAU,aAAa,OAAO,CAAC;oBACrC,IAAI,SAAS;wBACX,WAAW,KAAK,KAAK,CAAC;oBACxB,OAAO;wBACL,WAAW;oBACb;gBACF;;YAEA,OAAO,gBAAgB,CAAC,WAAW;YACnC;qCAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;;QACrD;4BAAG,EAAE;IAEL,OAAO;QAAE;IAAQ;AACnB;GAvBwB","debugId":null}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file://E%3A/ASNPORTS/PELICULAS/Flick%20Verse/flick-verse/src/components/auth/UserAvatar.jsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\n\nexport default function UserAvatar({ account }) {\n  const [isOpen, setIsOpen] = useState(false)\n  const router = useRouter()\n\n  const handleLogout = () => {\n    localStorage.removeItem('tmdb_session')\n    localStorage.removeItem('tmdb_account')\n    router.push('/')\n    router.refresh()\n  }\n\n  return (\n    <div className=\"relative z-50\">\n      <div\n        className=\"w-10 h-10 cursor-pointer\"\n        onClick={() => setIsOpen(!isOpen)}\n      >\n        <img\n          src={\n            account.avatar?.tmdb?.avatar_path\n              ? `https://image.tmdb.org/t/p/w64_and_h64_face${account.avatar.tmdb.avatar_path}`\n              : '/default-avatar.png'\n          }\n          alt={account.username}\n          className=\"w-10 h-10 rounded-full border border-gray-600 object-cover\"\n        />\n      </div>\n\n      {isOpen && (\n        <div className=\"absolute right-0 mt-2 w-44 bg-black border border-gray-700 shadow-lg rounded-lg py-2\">\n          <a\n            href=\"/profile\"\n            className=\"block w-full text-left px-4 py-2 text-white hover:bg-gray-800\"\n          >\n            Mi perfil\n          </a>\n          <button\n            onClick={handleLogout}\n            className=\"block w-full text-left px-4 py-2 text-red-400 hover:bg-gray-800\"\n          >\n            Cerrar sesión\n          </button>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS,WAAW,EAAE,OAAO,EAAE;;IAC5C,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,eAAe;QACnB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,OAAO,IAAI,CAAC;QACZ,OAAO,OAAO;IAChB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,UAAU,CAAC;0BAE1B,cAAA,6LAAC;oBACC,KACE,QAAQ,MAAM,EAAE,MAAM,cAClB,CAAC,2CAA2C,EAAE,QAAQ,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,GAC/E;oBAEN,KAAK,QAAQ,QAAQ;oBACrB,WAAU;;;;;;;;;;;YAIb,wBACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,MAAK;wBACL,WAAU;kCACX;;;;;;kCAGD,6LAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAOX;GA9CwB;;QAEP,qIAAA,CAAA,YAAS;;;KAFF","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file://E%3A/ASNPORTS/PELICULAS/Flick%20Verse/flick-verse/src/components/Navbar.jsx"],"sourcesContent":["'use client'\nimport { useState, useEffect, useRef } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { FilmIcon, TvIcon, NewspaperIcon, SearchIcon, CalendarDaysIcon } from 'lucide-react'\nimport Link from 'next/link'\nimport '@/app/globals.css';\nimport useAuth from '@/lib/hooks/useAuth'\nimport UserAvatar from '@/components/auth/UserAvatar'\n\nexport default function Navbar() {\n  const [query, setQuery] = useState('')\n  const [results, setResults] = useState([])\n  const [showDropdown, setShowDropdown] = useState(false)\n  const router = useRouter()\n  const searchRef = useRef(null)\n  const { account } = useAuth()\n\n  useEffect(() => {\n    const handler = (e) => {\n      if (searchRef.current && !searchRef.current.contains(e.target)) {\n        setShowDropdown(false)\n      }\n    }\n    document.addEventListener('mousedown', handler)\n    return () => document.removeEventListener('mousedown', handler)\n  }, [])\n\n  const handleSearch = async (e) => {\n    e.preventDefault()\n    if (!query.trim()) return\n\n    const res = await fetch(\n      `https://api.themoviedb.org/3/search/multi?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}&language=es-ES&query=${query}`\n    )    \n    const data = await res.json()\n    setResults(data.results || [])\n    setShowDropdown(true)\n  }\n\n  return (\n    <nav className=\"p-4 flex flex-wrap items-center justify-between gap-4 sm:gap-0 sm:flex-nowrap bg-black\">\n      {/* Logo */}\n      <div className=\"w-full sm:w-auto flex justify-center sm:justify-start\">\n        <Link href=\"/\" className=\"block\">\n          <img\n            src=\"/logo-sinfondo.png\"\n            alt=\"Logo\"\n            className=\"h-12 sm:h-16 object-cover object-center cursor-pointer\"\n          />\n        </Link>\n      </div>\n\n      {/* Barra de búsqueda */}\n      <div className=\"w-full sm:flex-grow sm:max-w-xl sm:mx-8 sm:px-4 relative\" ref={searchRef}>\n        <form onSubmit={handleSearch} className=\"flex w-full\">\n          <input\n            type=\"text\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            placeholder=\"Buscar películas, series o actores...\"\n            className=\"w-full px-4 py-2 bg-[#1F1F1F] text-white rounded-l-3xl border border-[#333] focus:outline-none focus:ring-1 focus:ring-blue-600 placeholder:text-gray-400\"\n          />\n          <button\n            type=\"submit\"\n            className=\"bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded-r-3xl flex items-center justify-center\"\n          >\n            <SearchIcon className=\"text-white\" />\n          </button>\n        </form>\n\n\n        {showDropdown && results.length > 0 && (\n          <div className=\"absolute top-full left-0 w-full bg-[#121212] text-white mt-2 rounded-2xl shadow-2xl max-h-[550px] overflow-y-auto z-50 border border-[#2a2a2a] backdrop-blur-md no-scrollbar\">\n            {results.map((item) => (\n              <Link\n                key={item.id}\n                href={`/details/${item.media_type}/${item.id}`}\n                onClick={() => {\n                  setShowDropdown(false)\n                  setQuery('')\n                }}\n                className=\"flex items-center gap-4 px-4 py-3 hover:bg-[#1f1f1f] transition-colors cursor-pointer\"\n              >\n                <img\n                  src={`https://image.tmdb.org/t/p/w92${item.poster_path || item.profile_path}`}\n                  alt={item.title || item.name}\n                  className=\"w-16 h-auto rounded-lg shadow-md\"\n                />\n                <div>\n                  <p className=\"font-semibold text-base\">{item.title || item.name || item.original_title}</p>\n                  <p className=\"text-sm text-gray-400 capitalize\">\n                    {item.media_type === 'movie'\n                      ? 'Película'\n                      : item.media_type === 'tv'\n                      ? 'Serie'\n                      : item.media_type === 'person'\n                      ? 'Persona'\n                      : item.media_type}\n                  </p>\n                </div>\n              </Link>\n            ))}\n          </div>\n        )}\n      </div>\n\n      <div className=\"w-full sm:w-auto flex justify-around sm:justify-end items-center gap-4 text-white text-sm\">\n        <Link href=\"/movies\" className=\"hover:text-blue-500 transition-colors\">\n          <FilmIcon className=\"w-6 h-6\" />\n        </Link>\n        <Link href=\"/series\" className=\"hover:text-blue-500 transition-colors\">\n          <TvIcon className=\"w-6 h-6\" />\n        </Link>\n        <Link href=\"/news\" className=\"hover:text-blue-500 transition-colors\">\n          <NewspaperIcon className=\"w-6 h-6\" />\n        </Link>\n        <Link href=\"/calendar\" className=\"hover:text-blue-500 transition-colors\">\n          <CalendarDaysIcon className=\"w-6 h-6\" />\n        </Link>\n\n        {/* Login / Avatar */}\n        {!account ? (\n          <Link\n            href=\"/login\"\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm transition-colors\"\n          >\n            Iniciar sesión\n          </Link>\n        ) : (\n          <UserAvatar account={account} />\n        )}\n      </div>\n    </nav>\n  )\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file://E%3A/ASNPORTS/PELICULAS/Flick%20Verse/flick-verse/src/context/AuthContext.jsx"],"sourcesContent":["'use client'\n\nimport { createContext, useContext, useEffect, useState } from 'react'\n\nconst AuthContext = createContext()\n\nexport const AuthProvider = ({ children }) => {\n  const [session, setSession] = useState(null)\n  const [account, setAccount] = useState(null)\n\n  useEffect(() => {\n    const storedSession = localStorage.getItem('tmdb_session')\n    const storedAccount = localStorage.getItem('tmdb_account')\n\n    if (storedSession && storedAccount) {\n      setSession(storedSession)\n      setAccount(JSON.parse(storedAccount))\n    }\n\n    const updateOnStorage = () => {\n      const session = localStorage.getItem('tmdb_session')\n      const account = localStorage.getItem('tmdb_account')\n      setSession(session)\n      setAccount(account ? JSON.parse(account) : null)\n    }\n\n    window.addEventListener('storage', updateOnStorage)\n    return () => window.removeEventListener('storage', updateOnStorage)\n  }, [])\n\n  const login = ({ session_id, account }) => {\n    localStorage.setItem('tmdb_session', session_id)\n    localStorage.setItem('tmdb_account', JSON.stringify(account))\n    setSession(session_id)\n    setAccount(account)\n  }\n\n  const logout = () => {\n    localStorage.removeItem('tmdb_session')\n    localStorage.removeItem('tmdb_account')\n    setSession(null)\n    setAccount(null)\n  }\n\n  return (\n    <AuthContext.Provider value={{ session, account, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  )\n}\n\nexport const useAuth = () => useContext(AuthContext)\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD;AAEzB,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE;;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,gBAAgB,aAAa,OAAO,CAAC;YAC3C,MAAM,gBAAgB,aAAa,OAAO,CAAC;YAE3C,IAAI,iBAAiB,eAAe;gBAClC,WAAW;gBACX,WAAW,KAAK,KAAK,CAAC;YACxB;YAEA,MAAM;0DAAkB;oBACtB,MAAM,UAAU,aAAa,OAAO,CAAC;oBACrC,MAAM,UAAU,aAAa,OAAO,CAAC;oBACrC,WAAW;oBACX,WAAW,UAAU,KAAK,KAAK,CAAC,WAAW;gBAC7C;;YAEA,OAAO,gBAAgB,CAAC,WAAW;YACnC;0CAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;;QACrD;iCAAG,EAAE;IAEL,MAAM,QAAQ,CAAC,EAAE,UAAU,EAAE,OAAO,EAAE;QACpC,aAAa,OAAO,CAAC,gBAAgB;QACrC,aAAa,OAAO,CAAC,gBAAgB,KAAK,SAAS,CAAC;QACpD,WAAW;QACX,WAAW;IACb;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,WAAW;QACX,WAAW;IACb;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAS;YAAS;YAAO;QAAO;kBAC5D;;;;;;AAGP;GA3Ca;KAAA;AA6CN,MAAM,UAAU;;IAAM,OAAA,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;AAAW;IAAtC","debugId":null}}]
}