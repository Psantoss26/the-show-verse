{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://E%3A/ASNPORTS/PELICULAS/The%20Show%20Verse/the-show-verse/src/lib/api/tmdb.js"],"sourcesContent":["const API_KEY = process.env.NEXT_PUBLIC_TMDB_API_KEY;\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nasync function fetchFromTMDb(endpoint) {\n  try {\n    // Verificar que la clave de la API está configurada correctamente\n    if (!API_KEY) {\n      console.error(\"API key is missing!\");\n      return null;\n    }\n\n    const response = await fetch(`${BASE_URL}${endpoint}?api_key=${API_KEY}&language=es-ES`);\n\n    // Verificar si la respuesta fue exitosa\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error(`Error fetching data from TMDb: ${response.statusText}`, errorData);\n      return null; // Regresar null si la respuesta no es OK\n    }\n\n    // Parsear la respuesta en formato JSON\n    const data = await response.json();\n\n    // Verificar si los datos son válidos\n    if (!data || Object.keys(data).length === 0) {\n      console.warn(`No data returned for endpoint: ${endpoint}`);\n      return null; // Regresar null si no hay datos\n    }\n\n    return data;\n  } catch (error) {\n    // Manejo de errores en caso de que falle la petición\n    console.error(`Error with ${endpoint}:`, error);\n    return null; // Regresar null en caso de error\n  }\n}\n\nexport async function fetchTopRatedMovies() {\n  const res = await fetch(`https://api.themoviedb.org/3/movie/top_rated?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}&language=es-ES`);\n  const data = await res.json();\n  return data.results;\n}\n\nexport async function fetchTrendingMovies() {\n  const res = await fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}`);\n  const data = await res.json();\n  return data.results;\n}\n\nexport async function fetchPopularMovies() {\n  const res = await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}&language=es-ES`);\n  const data = await res.json();\n  return data.results;\n}\n\nexport async function fetchRecommendedMovies(sessionId) {\n  const res = await fetch(`https://api.themoviedb.org/3/account/0/recommendations?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}&session_id=${sessionId}&language=es-ES`);\n  const data = await res.json();\n  return data.results;\n}\n\nexport async function fetchDramaMovies() {\n  const res = await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}&with_genres=18&sort_by=vote_average.desc&vote_count.gte=100`);\n  const data = await res.json();\n  return data.results;\n}\n\nexport async function fetchCultClassics() {\n  const res = await fetch(`https://api.themoviedb.org/3/list/8146?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}`);\n  const data = await res.json();\n  return data.items || [];\n}\n\nexport async function fetchPopularInCountry(countryCode) {\n  const res = await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}&region=${countryCode}&sort_by=popularity.desc`);\n  const data = await res.json();\n  return data.results;\n}\n\n// 1. Mejores películas de acción\nexport async function fetchTopActionMovies() {\n  const res = await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}&with_genres=28&sort_by=vote_average.desc&vote_count.gte=200&language=es-ES`)\n  const data = await res.json()\n  return data.results\n}\n\n// 2. Películas con guion complejo (plot twist)\nexport async function fetchMindBendingMovies() {\n  const res = await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}&with_keywords=2343&sort_by=vote_average.desc&vote_count.gte=100&language=es-ES`)\n  const data = await res.json()\n  return data.results\n}\n\n// 3. Populares a nivel internacional (EE.UU.)\nexport async function fetchPopularInUS() {\n  const res = await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}&region=US&sort_by=popularity.desc&language=es-ES`)\n  const data = await res.json()\n  return data.results\n}\n\n// 4. Infravaloradas (pocas valoraciones pero buena nota)\nexport async function fetchUnderratedMovies() {\n  const res = await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}&sort_by=vote_average.desc&vote_count.lte=200&vote_average.gte=7.0&language=es-ES`)\n  const data = await res.json()\n  return data.results\n}\n\n// 5. Películas que están mejorando su puntuación\nexport async function fetchRisingMovies() {\n  const currentYear = new Date().getFullYear()\n  const res = await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}&primary_release_year=${currentYear}&sort_by=vote_average.asc&vote_count.gte=50&language=es-ES`)\n  const data = await res.json()\n  return data.results\n}\n\nexport async function fetchFeaturedMovies() {\n  try {\n    const response = await fetch(`${BASE_URL}/movie/popular?api_key=${API_KEY}&language=es-ES&page=1`);\n    if (!response.ok) {\n      throw new Error('Error fetching featured movies');\n    }\n    const data = await response.json();\n    return data.results; // Regresa las películas populares\n  } catch (error) {\n    console.error('Error fetching data from TMDb: ', error);\n    return []; // Regresa un array vacío si hay un error\n  }\n}\n\nexport async function fetchGenres() {\n  try {\n    const response = await fetch(`${BASE_URL}/genre/movie/list?api_key=${API_KEY}&language=es-ES`);\n    if (!response.ok) {\n      throw new Error('Error fetching genres');\n    }\n    const data = await response.json();\n    return data.genres; // Regresa los géneros\n  } catch (error) {\n    console.error('Error fetching data from TMDb: ', error);\n    return []; // Regresa un array vacío si hay un error\n  }\n}\n\nexport async function fetchMoviesByGenre(genreId) {\n  try {\n    const response = await fetch(`${BASE_URL}/discover/movie?api_key=${API_KEY}&language=es-ES&with_genres=${genreId}`);\n    if (!response.ok) {\n      throw new Error(`Error fetching movies for genre ${genreId}`);\n    }\n    const data = await response.json();\n    return data.results; // Regresa las películas filtradas por género\n  } catch (error) {\n    console.error('Error fetching data from TMDb: ', error);\n    return []; // Regresa un array vacío si hay un error\n  }\n}\n\n// Funciones específicas para obtener datos de la API\nexport async function getDetails(type, id) {\n  const res = await fetch(\n    `https://api.themoviedb.org/3/${type}/${id}?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}&language=es-ES&append_to_response=external_ids`\n  );  \n  const data = await res.json();\n\n  if (type === 'tv') {\n    data.imdb_id = data.external_ids?.imdb_id || null;\n  }\n\n  return data;\n}\n\nexport async function getLogos(type, id) {\n  const res = await fetch(\n    `https://api.themoviedb.org/3/${type}/${id}/images?api_key=${process.env.NEXT_PUBLIC_TMDB_API_KEY}`\n  );\n  const data = await res.json();\n\n  // Filtrar logos en español o inglés\n  const filtered = data.logos.filter(\n    (logo) => logo.iso_639_1 === 'es' || logo.iso_639_1 === 'en'\n  );\n\n  if (filtered.length === 0) return null;\n\n  // Intentar obtener el que más votos tenga\n  const voted = filtered.filter((logo) => logo.vote_count > 0);\n\n  const bestLogo = (voted.length > 0\n    ? voted\n    : filtered // fallback si ninguno tiene votos\n  ).reduce((max, logo) => {\n    return (logo.vote_count || 0) > (max.vote_count || 0) ? logo : max;\n  });\n\n  return bestLogo?.file_path || null;\n}\n\n\n\nexport async function getRecommendations(type, id) {\n  if (!type || !id) {\n    console.error(\"Invalid parameters for getRecommendations\");\n    return null;\n  }\n  return await fetchFromTMDb(`/${type}/${id}/recommendations`);\n}\n\nexport async function getCredits(type, id) {\n  if (!type || !id) {\n    console.error(\"Invalid parameters for getCredits\");\n    return null;\n  }\n  return await fetchFromTMDb(`/${type}/${id}/credits`);\n}\n\nexport async function getProviders(type, id) {\n  if (!type || !id) {\n    console.error(\"Invalid parameters for getProviders\");\n    return null;\n  }\n  return await fetchFromTMDb(`/${type}/${id}/watch/providers`);\n}\n\nexport async function getReviews(type, id) {\n  if (!type || !id) {\n    console.error(\"Invalid parameters for getReviews\");\n    return null;\n  }\n  return await fetchFromTMDb(`/${type}/${id}/reviews`);\n}\n\n// Función para obtener detalles del actor\nexport async function getActorDetails(id) {\n    try {\n      const response = await fetch(`${BASE_URL}/person/${id}?api_key=${API_KEY}`);\n      if (!response.ok) throw new Error('Error fetching actor details');\n      return await response.json();\n    } catch (error) {\n      console.error('Error fetching actor details:', error);\n      return null;\n    }\n  }\n  \n// Función para obtener películas en las que ha trabajado el actor\nexport async function getActorMovies(id) {\n    try {\n      const response = await fetch(`${BASE_URL}/person/${id}/movie_credits?api_key=${API_KEY}`);\n      if (!response.ok) throw new Error('Error fetching actor movies');\n      return await response.json();\n    } catch (error) {\n      console.error('Error fetching actor movies:', error);\n      return { cast: [] };  // Devolver un array vacío si hay error\n    }\n  }\n\n// Función para obtener ratings por episodio de una serie de TV\nexport async function getTvEpisodeRatings(tmdbId, { excludeSpecials = true } = {}) {\n  const res = await fetch(\n    `/api/tv/${tmdbId}/ratings?excludeSpecials=${excludeSpecials ? 'true' : 'false'}`\n  );\n  const json = await res.json();\n  if (!res.ok) throw new Error(json?.error || 'No se pudo obtener ratings');\n  return json;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file://E%3A/ASNPORTS/PELICULAS/The%20Show%20Verse/the-show-verse/src/components/EpisodeRatingsGrid.jsx"],"sourcesContent":["'use client'\r\nimport { useMemo, useState } from 'react'\r\n\r\nexport default function EpisodeRatingsGrid({\r\n  ratings,\r\n  initialSource = 'imdb',\r\n  density = 'compact',\r\n  fillMissingWithTmdb = true,\r\n}) {\r\n  const [source, setSource] = useState(initialSource)\r\n\r\n  // --- tamaños\r\n  const SIZES = {\r\n    compact: {\r\n      cell: 'w-[42px] h-[28px] md:w-[50px] md:h-[32px] lg:w-[58px] lg:h-[36px]',\r\n      headerPad: 'px-2 py-1.5',\r\n      stickyCol: 'w-12 md:w-14 lg:w-16',\r\n    },\r\n    comfy: {\r\n      cell: 'w-[60px] h-[36px] md:w-[70px] md:h-[42px] lg:w-[80px] lg:h-[48px]',\r\n      headerPad: 'px-3 py-2',\r\n      stickyCol: 'w-16 md:w-20 lg:w-24',\r\n    },\r\n  }\r\n  const SZ = SIZES[density] ?? SIZES.compact\r\n\r\n  // --- datos base\r\n  const { seasonsSorted, maxEpisodes } = useMemo(() => {\r\n    const seasons = (ratings?.seasons || []).slice().sort((a, b) => a.season_number - b.season_number)\r\n    const maxEp = seasons.reduce((m, s) => Math.max(m, ...s.episodes.map(e => e.episode_number)), 0)\r\n    return { seasonsSorted: seasons, maxEpisodes: maxEp }\r\n  }, [ratings])\r\n\r\n  const epIndexBySeason = useMemo(() => {\r\n    const map = new Map()\r\n    seasonsSorted.forEach(s => {\r\n      const inner = new Map()\r\n      s.episodes.forEach(e => inner.set(e.episode_number, e))\r\n      map.set(s.season_number, inner)\r\n    })\r\n    return map\r\n  }, [seasonsSorted])\r\n\r\n  // --- helpers\r\n  const format1 = (v) => {\r\n    if (v == null) return null\r\n    const num = Math.round(Number(v) * 10) / 10\r\n    return Number.isInteger(num) ? num.toString() : num.toFixed(1)\r\n  }\r\n\r\n  const pickValue = (ep) => {\r\n    if (!ep) return null\r\n    if (source === 'tmdb') return ep.tmdbRating ?? null\r\n    if (source === 'imdb') {\r\n      if (ep.imdbRating != null) return ep.imdbRating\r\n      return fillMissingWithTmdb ? (ep.tmdbRating ?? null) : null\r\n    }\r\n    const vals = [ep.tmdbRating, ep.imdbRating].filter(v => typeof v === 'number')\r\n    if (!vals.length) return null\r\n    return Number((vals.reduce((a, b) => a + b, 0) / vals.length).toFixed(1))\r\n  }\r\n\r\n  // Colores con contraste\r\n  const toneFor = (v) => {\r\n    if (v == null) return { bg: 'bg-zinc-800', text: 'text-zinc-400', ring: 'ring-white/5' }\r\n    if (v >= 9.3) return { bg: 'bg-emerald-700', text: 'text-white', ring: 'ring-white/10' }\r\n    if (v >= 9.0) return { bg: 'bg-emerald-600', text: 'text-white', ring: 'ring-white/10' }\r\n    if (v >= 8.5) return { bg: 'bg-emerald-500', text: 'text-black', ring: 'ring-black/10' }\r\n    if (v >= 8.0) return { bg: 'bg-lime-400', text: 'text-black', ring: 'ring-black/10' }\r\n    if (v >= 7.0) return { bg: 'bg-yellow-400', text: 'text-black', ring: 'ring-black/10' }\r\n    if (v >= 6.0) return { bg: 'bg-orange-500', text: 'text-black', ring: 'ring-black/10' }\r\n    return { bg: 'bg-red-600', text: 'text-white', ring: 'ring-white/10' }\r\n  }\r\n\r\n  if (!seasonsSorted.length) return null\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {/* Cabecera */}\r\n      <div className=\"flex flex-wrap items-center gap-2\">\r\n        <h3 className=\"text-lg font-semibold\">Puntuaciones por episodio</h3>\r\n        <div className=\"flex items-center gap-1 text-xs\">\r\n          <span className=\"opacity-70\">Fuente:</span>\r\n          <Toggle active={source === 'avg'} onClick={() => setSource('avg')}>Media</Toggle>\r\n          <Toggle active={source === 'tmdb'} onClick={() => setSource('tmdb')}>TMDb</Toggle>\r\n          <Toggle active={source === 'imdb'} onClick={() => setSource('imdb')}>IMDb</Toggle>\r\n        </div>\r\n      </div>\r\n\r\n      <LegendCompact />\r\n\r\n      {/* Tabla */}\r\n      <div className=\"overflow-x-auto overflow-y-visible\">\r\n        <table className=\"border-separate border-spacing-0\">\r\n          <thead>\r\n            <tr>\r\n              <th className={`sticky left-0 z-10 bg-black/60 backdrop-blur ${SZ.headerPad} text-left text-[11px] text-zinc-400 font-medium ${SZ.stickyCol}`}></th>\r\n              {seasonsSorted.map((s) => (\r\n                <th key={s.season_number}\r\n                    className={`${SZ.headerPad} text-center text-xs text-zinc-200 font-semibold bg-black/60 backdrop-blur border-b border-white/10`}>\r\n                  S{s.season_number}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            {Array.from({ length: maxEpisodes }).map((_, i) => {\r\n              const epNum = i + 1\r\n              return (\r\n                <tr key={`row-${epNum}`}>\r\n                  <td className={`sticky left-0 z-10 bg-black/60 backdrop-blur ${SZ.headerPad} text-[11px] text-zinc-300 font-medium ${SZ.stickyCol} border-r border-white/5`}>\r\n                    E{epNum}\r\n                  </td>\r\n\r\n                  {seasonsSorted.map((s) => {\r\n                    const ep = epIndexBySeason.get(s.season_number)?.get(epNum)\r\n                    const raw = pickValue(ep)\r\n                    const val = format1(raw)\r\n                    const spec = toneFor(raw)\r\n\r\n                    const titleText = ep?.name ?? `Episode ${epNum}`\r\n                    const imdbVotesStr = ep?.imdbVotes != null ? ep.imdbVotes.toLocaleString() : '—'\r\n\r\n                    // Cambia posición del tooltip si es una de las primeras filas\r\n                    const placeAbove = epNum > 2\r\n\r\n                    return (\r\n                      <td key={`s${s.season_number}-e${epNum}`} className=\"p-1\">\r\n                        <div className=\"relative group\">\r\n                          <div\r\n                            className={`\r\n                              ${spec.bg} ${spec.text} ring-1 ${spec.ring}\r\n                              rounded-[20px] md:rounded-[24px]\r\n                              ${SZ.cell}\r\n                              flex items-center justify-center\r\n                              font-medium leading-none tracking-tight\r\n                              [font-variant-numeric:tabular-nums]\r\n                              text-[15px] md:text-[16px] lg:text-[17px]\r\n                              shadow-[inset_0_-1px_0_rgba(255,255,255,0.06)]\r\n                              hover:brightness-[1.06] hover:scale-[1.02]\r\n                              transition will-change-transform\r\n                              outline-none focus:ring-2 focus:ring-white/30\r\n                              select-none\r\n                            `}\r\n                            style={{ transform: 'scaleX(1.03)' }}\r\n                            role=\"button\"\r\n                            tabIndex={0}\r\n                          >\r\n                            {val ?? '—'}\r\n                          </div>\r\n\r\n                          {/* Tooltip visual (ajustable arriba/abajo) */}\r\n                          <div\r\n                            className={[\r\n                              \"pointer-events-none absolute left-1/2 -translate-x-1/2 z-50\",\r\n                              placeAbove\r\n                                ? \"-top-2 -translate-y-full\"\r\n                                : \"top-full mt-2\",\r\n                              \"opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 transition-opacity duration-150\",\r\n                              \"px-3 py-2 rounded-md text-[12px] leading-tight bg-black/90 text-white shadow-lg\",\r\n                              \"whitespace-pre text-center max-w-[260px]\"\r\n                            ].join(\" \")}\r\n                          >\r\n                            <strong className=\"block\">{titleText}</strong>\r\n                            <span className=\"block opacity-90\">Season {s.season_number}, Episode {epNum}</span>\r\n                            <span className=\"block opacity-90\">IMDb votes: {imdbVotesStr}</span>\r\n\r\n                            {placeAbove ? (\r\n                              <span className=\"absolute left-1/2 top-full -translate-x-1/2 w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-black/90\" />\r\n                            ) : (\r\n                              <span className=\"absolute left-1/2 -top-2 -translate-x-1/2 w-0 h-0 border-l-8 border-r-8 border-b-8 border-l-transparent border-r-transparent border-b-black/90\" />\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                    )\r\n                  })}\r\n                </tr>\r\n              )\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction Toggle({ active, onClick, children }) {\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className={`px-2.5 py-1 rounded-full border text-xs\r\n        ${active ? 'bg-white text-black border-white' : 'border-zinc-600 text-zinc-300 hover:bg-zinc-800'}\r\n      `}\r\n    >\r\n      {children}\r\n    </button>\r\n  )\r\n}\r\n\r\nfunction LegendCompact() {\r\n  const items = [\r\n    ['bg-emerald-700','≥ 9.3'],\r\n    ['bg-emerald-600','9.0–9.2'],\r\n    ['bg-emerald-500','8.5–8.9'],\r\n    ['bg-lime-400','8.0–8.4'],\r\n    ['bg-yellow-400','7.0–7.9'],\r\n    ['bg-orange-500','6.0–6.9'],\r\n    ['bg-red-600','≤ 5.9'],\r\n    ['bg-zinc-800','—'],\r\n  ]\r\n  return (\r\n    <div className=\"flex flex-wrap items-center gap-2 text-[11px] text-zinc-300\">\r\n      {items.map(([c, l]) => (\r\n        <span key={l} className=\"inline-flex items-center gap-1\">\r\n          <i className={`inline-block w-3 h-3 rounded ${c}`} />\r\n          {l}\r\n        </span>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AADA;;;AAGe,SAAS,mBAAmB,EACzC,OAAO,EACP,gBAAgB,MAAM,EACtB,UAAU,SAAS,EACnB,sBAAsB,IAAI,EAC3B;IACC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAErC,cAAc;IACd,MAAM,QAAQ;QACZ,SAAS;YACP,MAAM;YACN,WAAW;YACX,WAAW;QACb;QACA,OAAO;YACL,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,MAAM,KAAK,KAAK,CAAC,QAAQ,IAAI,MAAM,OAAO;IAE1C,iBAAiB;IACjB,MAAM,EAAE,aAAa,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAC7C,MAAM,UAAU,CAAC,SAAS,WAAW,EAAE,EAAE,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,aAAa,GAAG,EAAE,aAAa;QACjG,MAAM,QAAQ,QAAQ,MAAM,CAAC,CAAC,GAAG,IAAM,KAAK,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAA,IAAK,EAAE,cAAc,IAAI;QAC9F,OAAO;YAAE,eAAe;YAAS,aAAa;QAAM;IACtD,GAAG;QAAC;KAAQ;IAEZ,MAAM,kBAAkB,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAC9B,MAAM,MAAM,IAAI;QAChB,cAAc,OAAO,CAAC,CAAA;YACpB,MAAM,QAAQ,IAAI;YAClB,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAA,IAAK,MAAM,GAAG,CAAC,EAAE,cAAc,EAAE;YACpD,IAAI,GAAG,CAAC,EAAE,aAAa,EAAE;QAC3B;QACA,OAAO;IACT,GAAG;QAAC;KAAc;IAElB,cAAc;IACd,MAAM,UAAU,CAAC;QACf,IAAI,KAAK,MAAM,OAAO;QACtB,MAAM,MAAM,KAAK,KAAK,CAAC,OAAO,KAAK,MAAM;QACzC,OAAO,OAAO,SAAS,CAAC,OAAO,IAAI,QAAQ,KAAK,IAAI,OAAO,CAAC;IAC9D;IAEA,MAAM,YAAY,CAAC;QACjB,IAAI,CAAC,IAAI,OAAO;QAChB,IAAI,WAAW,QAAQ,OAAO,GAAG,UAAU,IAAI;QAC/C,IAAI,WAAW,QAAQ;YACrB,IAAI,GAAG,UAAU,IAAI,MAAM,OAAO,GAAG,UAAU;YAC/C,OAAO,sBAAuB,GAAG,UAAU,IAAI,OAAQ;QACzD;QACA,MAAM,OAAO;YAAC,GAAG,UAAU;YAAE,GAAG,UAAU;SAAC,CAAC,MAAM,CAAC,CAAA,IAAK,OAAO,MAAM;QACrE,IAAI,CAAC,KAAK,MAAM,EAAE,OAAO;QACzB,OAAO,OAAO,CAAC,KAAK,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,GAAG,KAAK,KAAK,MAAM,EAAE,OAAO,CAAC;IACxE;IAEA,wBAAwB;IACxB,MAAM,UAAU,CAAC;QACf,IAAI,KAAK,MAAM,OAAO;YAAE,IAAI;YAAe,MAAM;YAAiB,MAAM;QAAe;QACvF,IAAI,KAAK,KAAK,OAAO;YAAE,IAAI;YAAkB,MAAM;YAAc,MAAM;QAAgB;QACvF,IAAI,KAAK,KAAK,OAAO;YAAE,IAAI;YAAkB,MAAM;YAAc,MAAM;QAAgB;QACvF,IAAI,KAAK,KAAK,OAAO;YAAE,IAAI;YAAkB,MAAM;YAAc,MAAM;QAAgB;QACvF,IAAI,KAAK,KAAK,OAAO;YAAE,IAAI;YAAe,MAAM;YAAc,MAAM;QAAgB;QACpF,IAAI,KAAK,KAAK,OAAO;YAAE,IAAI;YAAiB,MAAM;YAAc,MAAM;QAAgB;QACtF,IAAI,KAAK,KAAK,OAAO;YAAE,IAAI;YAAiB,MAAM;YAAc,MAAM;QAAgB;QACtF,OAAO;YAAE,IAAI;YAAc,MAAM;YAAc,MAAM;QAAgB;IACvE;IAEA,IAAI,CAAC,cAAc,MAAM,EAAE,OAAO;IAElC,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAwB;;;;;;kCACtC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAa;;;;;;0CAC7B,8OAAC;gCAAO,QAAQ,WAAW;gCAAO,SAAS,IAAM,UAAU;0CAAQ;;;;;;0CACnE,8OAAC;gCAAO,QAAQ,WAAW;gCAAQ,SAAS,IAAM,UAAU;0CAAS;;;;;;0CACrE,8OAAC;gCAAO,QAAQ,WAAW;gCAAQ,SAAS,IAAM,UAAU;0CAAS;;;;;;;;;;;;;;;;;;0BAIzE,8OAAC;;;;;0BAGD,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAM,WAAU;;sCACf,8OAAC;sCACC,cAAA,8OAAC;;kDACC,8OAAC;wCAAG,WAAW,CAAC,6CAA6C,EAAE,GAAG,SAAS,CAAC,iDAAiD,EAAE,GAAG,SAAS,EAAE;;;;;;oCAC5I,cAAc,GAAG,CAAC,CAAC,kBAClB,8OAAC;4CACG,WAAW,GAAG,GAAG,SAAS,CAAC,mGAAmG,CAAC;;gDAAE;gDACjI,EAAE,aAAa;;2CAFV,EAAE,aAAa;;;;;;;;;;;;;;;;sCAQ9B,8OAAC;sCACE,MAAM,IAAI,CAAC;gCAAE,QAAQ;4BAAY,GAAG,GAAG,CAAC,CAAC,GAAG;gCAC3C,MAAM,QAAQ,IAAI;gCAClB,qBACE,8OAAC;;sDACC,8OAAC;4CAAG,WAAW,CAAC,6CAA6C,EAAE,GAAG,SAAS,CAAC,uCAAuC,EAAE,GAAG,SAAS,CAAC,wBAAwB,CAAC;;gDAAE;gDACzJ;;;;;;;wCAGH,cAAc,GAAG,CAAC,CAAC;4CAClB,MAAM,KAAK,gBAAgB,GAAG,CAAC,EAAE,aAAa,GAAG,IAAI;4CACrD,MAAM,MAAM,UAAU;4CACtB,MAAM,MAAM,QAAQ;4CACpB,MAAM,OAAO,QAAQ;4CAErB,MAAM,YAAY,IAAI,QAAQ,CAAC,QAAQ,EAAE,OAAO;4CAChD,MAAM,eAAe,IAAI,aAAa,OAAO,GAAG,SAAS,CAAC,cAAc,KAAK;4CAE7E,8DAA8D;4CAC9D,MAAM,aAAa,QAAQ;4CAE3B,qBACE,8OAAC;gDAAyC,WAAU;0DAClD,cAAA,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DACC,WAAW,CAAC;8BACV,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,QAAQ,EAAE,KAAK,IAAI,CAAC;;8BAE3C,EAAE,GAAG,IAAI,CAAC;;;;;;;;;;4BAUZ,CAAC;4DACD,OAAO;gEAAE,WAAW;4DAAe;4DACnC,MAAK;4DACL,UAAU;sEAET,OAAO;;;;;;sEAIV,8OAAC;4DACC,WAAW;gEACT;gEACA,aACI,6BACA;gEACJ;gEACA;gEACA;6DACD,CAAC,IAAI,CAAC;;8EAEP,8OAAC;oEAAO,WAAU;8EAAS;;;;;;8EAC3B,8OAAC;oEAAK,WAAU;;wEAAmB;wEAAQ,EAAE,aAAa;wEAAC;wEAAW;;;;;;;8EACtE,8OAAC;oEAAK,WAAU;;wEAAmB;wEAAa;;;;;;;gEAE/C,2BACC,8OAAC;oEAAK,WAAU;;;;;yFAEhB,8OAAC;oEAAK,WAAU;;;;;;;;;;;;;;;;;;+CA3Cf,CAAC,CAAC,EAAE,EAAE,aAAa,CAAC,EAAE,EAAE,OAAO;;;;;wCAiD5C;;mCAnEO,CAAC,IAAI,EAAE,OAAO;;;;;4BAsE3B;;;;;;;;;;;;;;;;;;;;;;;AAMZ;AAEA,SAAS,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE;IAC3C,qBACE,8OAAC;QACC,SAAS;QACT,WAAW,CAAC;QACV,EAAE,SAAS,qCAAqC,kDAAkD;MACpG,CAAC;kBAEA;;;;;;AAGP;AAEA,SAAS;IACP,MAAM,QAAQ;QACZ;YAAC;YAAiB;SAAQ;QAC1B;YAAC;YAAiB;SAAU;QAC5B;YAAC;YAAiB;SAAU;QAC5B;YAAC;YAAc;SAAU;QACzB;YAAC;YAAgB;SAAU;QAC3B;YAAC;YAAgB;SAAU;QAC3B;YAAC;YAAa;SAAQ;QACtB;YAAC;YAAc;SAAI;KACpB;IACD,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,iBAChB,8OAAC;gBAAa,WAAU;;kCACtB,8OAAC;wBAAE,WAAW,CAAC,6BAA6B,EAAE,GAAG;;;;;;oBAChD;;eAFQ;;;;;;;;;;AAOnB","debugId":null}},
    {"offset": {"line": 701, "column": 0}, "map": {"version":3,"sources":["file://E%3A/ASNPORTS/PELICULAS/The%20Show%20Verse/the-show-verse/src/components/DetailsClient.jsx"],"sourcesContent":["'use client'\n\nimport { useRef, useState, useEffect } from 'react'\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport 'swiper/swiper-bundle.css'\nimport EpisodeRatingsGrid from '@/components/EpisodeRatingsGrid'\n\nimport {\n  CalendarIcon,\n  ClockIcon,\n  FilmIcon,\n  GlobeIcon,\n  StarIcon,\n  MessageSquareIcon,\n  BadgeDollarSignIcon,\n  LinkIcon,\n  TagIcon,\n  ChevronLeft,\n  ImageIcon,\n  ChevronRight,\n  ImageOff\n} from 'lucide-react'\n\nexport default function DetailsClient({ type, id, data, recommendations, castData, providers, reviews }) {\n  const image = data.poster_path || data.profile_path\n  const title = data.title || data.name\n  const recRef = useRef()\n  const [reviewLimit, setReviewLimit] = useState(2)\n  const [useBackdrop, setUseBackdrop] = useState(true)\n\n  const scrollLeft = ref => ref.current.scrollBy({ left: -400, behavior: 'smooth' })\n  const scrollRight = ref => ref.current.scrollBy({ left: 400, behavior: 'smooth' })\n\n  const filmAffinitySearchUrl = `https://www.filmaffinity.com/es/search.php?stext=${encodeURIComponent(data.title || data.name)}`;\n\n  // === Ratings por episodio ===\n  const [ratings, setRatings] = useState(null)\n  const [ratingsError, setRatingsError] = useState(null)\n  const [ratingsLoading, setRatingsLoading] = useState(false)\n  useEffect(() => {\n    let ignore = false\n    async function load() {\n      if (type !== 'tv') return\n      setRatingsLoading(true)\n      setRatingsError(null)\n      try {\n        const res = await fetch(`/api/tv/${id}/ratings?excludeSpecials=true`)\n        const json = await res.json()\n        if (!res.ok) throw new Error(json?.error || 'No se pudo obtener ratings')\n        if (!ignore) setRatings(json)\n      } catch (e) {\n        if (!ignore) setRatingsError(e.message)\n      } finally {\n        if (!ignore) setRatingsLoading(false)\n      }\n    }\n    load()\n    return () => { ignore = true }\n  }, [id, type])\n\n  return (\n    <div className=\"relative min-h-screen\">\n      {/* Fondo difuminado */}\n      {useBackdrop && data.backdrop_path ? (\n        <>\n          <div\n            className=\"absolute inset-4 z-0 bg-cover bg-center blur-[10px]\"\n            style={{\n              backgroundImage: `url(https://image.tmdb.org/t/p/original${data.backdrop_path})`,\n            }}\n          />\n          <div className=\"absolute inset-0 z-0\" />\n        </>\n      ) : (\n        <div className=\"absolute inset-0 z-0 bg-black\" />\n      )}\n\n      {/* Botón de alternancia de fondo */}\n      <div className=\"absolute top-4 right-4 z-20\">\n        <button\n          onClick={() => setUseBackdrop(prev => !prev)}\n          className=\"p-2 rounded-full transition-colors\"\n          aria-label=\"Alternar fondo\"\n        >\n          <ImageIcon\n            className={`w-6 h-6 ${\n              useBackdrop\n                ? 'text-blue-500 hover:text-blue-400'\n                : 'text-gray-500 hover:text-gray-400'\n            }`}\n          />\n        </button>\n      </div>\n  \n      {/* Capa oscura sutil opcional para contraste */}\n      <div className=\"absolute inset-0 z-0 bg-black/50\" />\n  \n      {/* Contenido principal */}\n      <div className=\"relative z-10 px-4 py-10 lg:py-16 max-w-6xl mx-auto text-white\">\n\n      {/* Cabecera */}\n      <div className=\"flex flex-col lg:flex-row gap-8 mb-12\">\n        <div className=\"w-full lg:w-1/3 max-w-sm flex flex-col gap-4\">\n          {image ? (\n            <img\n              src={`https://image.tmdb.org/t/p/w500${image}`}\n              alt={title}\n              className=\"rounded-lg shadow-lg w-full h-auto object-cover\"\n            />\n          ) : (\n            <div className=\"w-full aspect-[2/3] bg-gray-800 flex items-center justify-center rounded-lg shadow-lg\">\n              <ImageOff size={64} className=\"text-gray-500\" />\n            </div>\n          )}\n\n          {/* Plataformas */}\n          {providers && providers.length > 0 && (\n            <div className=\"mt-2\">\n              <div className=\"flex flex-wrap gap-1\">\n                {providers.map(p => (\n                  <div key={p.provider_id} className=\"p-2 flex items-center\">\n                    <img\n                      src={`https://image.tmdb.org/t/p/original${p.logo_path}`}\n                      alt={p.provider_name}\n                      className=\"w-10 h-10 object-contain rounded-lg transition-transform duration-300 ease-in-out hover:scale-110\"\n                    />\n                  </div>\n                ))}\n                \n                {/* Icono de JustWatch */}\n                <a\n                  href={`https://www.themoviedb.org/${type}/${id}/watch`}\n                  target=\"_blank\"\n                  className=\"p-2 flex items-center\"\n                  rel=\"noreferrer\"\n                >\n                  <img\n                    src=\"https://play-lh.googleusercontent.com/Riuz226TXAawu8ZXlL7wnsjtMHkTMTDh_RSRiozAdoKe2TyGG4cLp3rPB0CxQFEUzFc\"\n                    alt=\"JustWatch\"\n                    className=\"object-contain w-11 h-11 rounded-lg transition-transform duration-300 ease-in-out hover:scale-110\"\n                  />\n                </a>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex-1 flex flex-col gap-6\">\n          <div>\n            <h1 className=\"text-4xl font-bold mb-2 mt-2\">{title}</h1>\n\n            {data.tagline && (\n              <p className=\"italic text-gray-300 mb-4\">\n                <TagIcon className=\"inline w-4 h-4 mr-1\" /> {data.tagline}\n              </p>\n            )}\n\n            {data.overview && (\n              <p className=\"text-gray-300 text-base leading-relaxed\">\n                <MessageSquareIcon className=\"inline w-4 h-4 mr-1\" /> {data.overview}\n              </p>\n            )}\n          </div>\n          {/* Enlaces externos en una fila horizontal */}\n          {(data.homepage || data.imdb_id) && (\n            <div className=\"flex flex-wrap gap-4 items-center\">\n              {data.homepage && (\n                <a\n                  href={data.homepage}\n                  target=\"_blank\"\n                  className=\"text-green-400 hover:underline inline-flex items-center gap-2\"\n                  rel=\"noreferrer\"\n                >\n                  <LinkIcon className=\"w-4 h-4 text-green-300\" />\n                  <strong>Sitio web</strong>\n                </a>\n              )}\n              {data.imdb_id && (\n                <>\n                  <a\n                    href={`https://www.imdb.com/title/${data.imdb_id}`}\n                    target=\"_blank\"\n                    className=\"text-yellow-400 hover:underline inline-flex items-center gap-2\"\n                    rel=\"noreferrer\"\n                  >\n                    <LinkIcon className=\"w-4 h-4 text-yellow-300\" />\n                    <strong>IMDb</strong>\n                  </a>\n\n                  <a\n                    href={`https://www.filmaffinity.com/es/search.php?stext=${encodeURIComponent(title)}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"text-blue-400 hover:underline inline-flex items-center gap-2\"\n                  >\n                    <LinkIcon className=\"w-4 h-4 text-blue-300\" />\n                    <strong>FilmAffinity</strong>\n                  </a>\n                </>\n              )}\n              {type === 'tv' && data.imdb_id && (\n                <a\n                  href={`https://tvcharts.co/show/${title.toLowerCase().split(' ').join('-')}-${data.imdb_id}`}\n                  target=\"_blank\"\n                  className=\"text-pink-400 hover:underline inline-flex items-center gap-2\"\n                  rel=\"noreferrer\"\n                >\n                  <LinkIcon className=\"w-4 h-4 text-pink-300\" />\n                  <strong>TV Charts</strong>\n                </a>\n              )}\n            </div>\n          )}\n          <div className=\"flex flex-wrap gap-2\">\n            {data.genres?.map((genre) => {\n              // Definir un color para cada género\n              const genreColors = {\n                \"Acción\": \"bg-red-500\",\n                \"Aventura\": \"bg-amber-600\",\n                \"Animación\": \"bg-orange-500\",\n                \"Comedia\": \"bg-yellow-400\",\n                \"Crimen\": \"bg-rose-700\",\n                \"Documental\": \"bg-slate-500\",\n                \"Drama\": \"bg-blue-500\",\n                \"Familia\": \"bg-indigo-400\",\n                \"Fantasía\": \"bg-fuchsia-600\",\n                \"Historia\": \"bg-zinc-600\",\n                \"Terror\": \"bg-purple-700\",\n                \"Música\": \"bg-emerald-500\",\n                \"Misterio\": \"bg-teal-700\",\n                \"Romance\": \"bg-pink-500\",\n                \"Ciencia ficción\": \"bg-cyan-600\",\n                \"Película de TV\": \"bg-lime-600\",\n                \"Suspense\": \"bg-green-500\",\n                \"Bélica\": \"bg-gray-600\",\n                \"Western\": \"bg-neutral-600\"\n              }              \n\n              // Determinar el color del género, si no existe se asigna un color predeterminado\n              const genreColor = genreColors[genre.name] || \"bg-gray-600\";\n\n              return (\n                <span key={genre.id} className={`${genreColor} text-white px-3 py-1.5 rounded-full text-sm`}>\n                  {genre.name}\n                </span>\n              );\n            })}\n          </div>\n          <div className=\"text-sm text-gray-300 bg-gray-800 p-5 rounded-lg shadow-md space-y-1\">\n            {data.original_title && (\n              <p>\n                <FilmIcon className=\"inline w-4 h-4 mr-2 text-blue-400\" /> <strong>Título original:</strong> {data.original_title}\n              </p>\n            )}\n            {data.release_date && (\n              <p>\n                <CalendarIcon className=\"inline w-4 h-4 mr-2 text-green-400\" /> <strong>Estreno:</strong> {data.release_date}\n              </p>\n            )}\n            {data.runtime && (\n              <p>\n                <ClockIcon className=\"inline w-4 h-4 mr-2 text-yellow-400\" /> <strong>Duración:</strong> {data.runtime} min\n              </p>\n            )}\n            {data.original_language && (\n              <p>\n                <GlobeIcon className=\"inline w-4 h-4 mr-2 text-purple-400\" /> <strong>Idioma:</strong> {data.original_language}\n              </p>\n            )}\n            {data.vote_average && (\n              <p>\n                <StarIcon className=\"inline w-4 h-4 mr-2 text-yellow-300\" /> <strong>Nota media:</strong> {data.vote_average.toFixed(1)}\n              </p>\n            )}\n            {data.vote_count && (\n              <p>\n                <StarIcon className=\"inline w-4 h-4 mr-2 text-yellow-300\" /> <strong>Votos:</strong> {data.vote_count}\n              </p>\n            )}\n            {type === 'tv' && (\n              <>\n                {data.first_air_date && (\n                  <p>\n                    <CalendarIcon className=\"inline w-4 h-4 mr-2 text-green-400\" /> <strong>Primera emisión:</strong> {data.first_air_date}\n                  </p>\n                )}\n                {data.last_air_date && (\n                  <p>\n                    <CalendarIcon className=\"inline w-4 h-4 mr-2 text-red-400\" /> <strong>Última emisión:</strong> {data.last_air_date}\n                  </p>\n                )}\n                {data.number_of_seasons && (\n                  <p>\n                    <FilmIcon className=\"inline w-4 h-4 mr-2 text-blue-300\" /> <strong>Temporadas:</strong> {data.number_of_seasons}\n                  </p>\n                )}\n                {data.number_of_episodes && (\n                  <p>\n                    <FilmIcon className=\"inline w-4 h-4 mr-2 text-blue-300\" /> <strong>Episodios:</strong> {data.number_of_episodes}\n                  </p>\n                )}\n                {data.episode_run_time?.[0] && (\n                  <p>\n                    <ClockIcon className=\"inline w-4 h-4 mr-2 text-yellow-400\" /> <strong>Duración por episodio:</strong> {data.episode_run_time[0]} min\n                  </p>\n                )}\n                {data.status && (\n                  <p>\n                    <StarIcon className=\"inline w-4 h-4 mr-2 text-gray-300\" /> <strong>Estado:</strong> {data.status}\n                  </p>\n                )}\n              </>\n            )}\n            {data.budget > 0 && (\n              <p>\n                <BadgeDollarSignIcon className=\"inline w-4 h-4 mr-2 text-green-500\" /> <strong>Presupuesto:</strong> ${data.budget.toLocaleString()}\n              </p>\n            )}\n            {data.revenue > 0 && (\n              <p>\n                <BadgeDollarSignIcon className=\"inline w-4 h-4 mr-2 text-green-500\" /> <strong>Recaudación:</strong> ${data.revenue.toLocaleString()}\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* === Sección de Puntuaciones por episodio === */}\n      {type === 'tv' && (\n        <section className=\"mt-10\">\n          {ratingsLoading && <div className=\"text-sm text-gray-300\">Cargando ratings…</div>}\n          {ratingsError && (\n            <div className=\"bg-red-600/20 border border-red-700 text-red-300 p-3 rounded-lg\">\n              {ratingsError}\n            </div>\n          )}\n          {ratings && <EpisodeRatingsGrid ratings={ratings} initialSource=\"avg\" density=\"compact\" />}\n        </section>\n      )}\n\n      {/* Carrusel de Reparto principal */}\n      {castData && castData.length > 0 && (\n        <div className=\"mt-12\">\n          <h2 className=\"text-2xl font-bold text-white mb-4\">Reparto principal</h2>\n          <Swiper\n            spaceBetween={20}\n            slidesPerView={6}\n            breakpoints={{\n              640: {\n                slidesPerView: 1,\n                spaceBetween: 10,\n              },\n              768: {\n                slidesPerView: 2,\n                spaceBetween: 10,\n              },\n              1024: {\n                slidesPerView: 6,\n                spaceBetween: 20,\n              },\n            }}\n          >\n            {castData.slice(0, 20).map(actor => (\n              <SwiperSlide key={actor.id} className=\"flex-shrink-0 text-center\">\n                <div className=\"relative\">\n                  <a href={`/details/person/${actor.id}`} className=\"block\">\n                    {actor.profile_path ? (\n                      <img\n                        src={`https://image.tmdb.org/t/p/w300${actor.profile_path}`}\n                        alt={actor.name}\n                        className=\"w-full aspect-[2/3] object-cover rounded-lg\"\n                      />\n                    ) : (\n                      <div className=\"w-full aspect-[2/3] bg-gray-800 flex items-center justify-center rounded-lg\">\n                        <ImageOff size={48} className=\"text-gray-500\" />\n                      </div>\n                    )}\n\n                    <div className=\"text-white p-2\">\n                      <p className=\"font-semibold text-sm\">{actor.name}</p>\n                      {actor.character && (\n                        <p className=\"text-xs text-gray-400\">{actor.character}</p>\n                      )}\n                    </div>\n                  </a>\n                </div>\n              </SwiperSlide>\n            ))}\n          </Swiper>\n        </div>\n      )}\n\n      {/* Carrusel de Críticas */}\n      {reviews && reviews.length > 0 && (\n        <div className=\"mt-12\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-2xl font-bold text-white\">Críticas de usuarios</h2>\n            {reviewLimit < reviews.length && (\n              <button\n                onClick={() => setReviewLimit(reviewLimit + 2)}\n                className=\"px-4 py-1.5 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm\"\n              >\n                Ver más críticas\n              </button>\n            )}\n          </div>\n\n          <div className=\"grid md:grid-cols-2 gap-6\">\n            {reviews.slice(0, reviewLimit).map((review) => {\n              const { author, content, created_at, id, url, author_details } = review;\n              const avatar = author_details?.avatar_path?.includes('/https')\n                ? author_details.avatar_path.slice(1) // quitar el primer slash si es URL completa\n                : `https://image.tmdb.org/t/p/w45${author_details?.avatar_path}`;\n              const rating = author_details?.rating;\n\n              return (\n                <div key={id} className=\"bg-gray-800 p-4 rounded-lg flex flex-col gap-2\">\n                  <div className=\"flex items-center gap-3\">\n                    {author_details?.avatar_path && (\n                      <img\n                        src={avatar}\n                        alt={author}\n                        className=\"w-10 h-10 rounded-full object-cover border border-gray-600\"\n                      />\n                    )}\n                    <div>\n                      <p className=\"text-white font-semibold\">{author_details?.username || author}</p>\n                      <p className=\"text-sm text-gray-400\">{new Date(created_at).toLocaleDateString()}</p>\n                    </div>\n                  </div>\n\n                  {rating && (\n                    <p className=\"text-yellow-400 text-sm mt-1\">\n                      <strong>{rating} ⭐</strong>\n                    </p>\n                  )}\n\n                  <p\n                    className=\"text-gray-300 whitespace-pre-wrap text-sm mb-2\"\n                    dangerouslySetInnerHTML={{\n                      __html: content.slice(0, 300) + '...',\n                    }}\n                  />\n\n                  <a\n                    href={`https://www.themoviedb.org/review/${id}`}\n                    target=\"_blank\"\n                    className=\"text-blue-400 text-sm self-start\"\n                    rel=\"noreferrer\"\n                  >\n                    Leer más →\n                  </a>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n      {/* Carrusel de Recomendaciones */}\n      {recommendations && recommendations.length > 0 && (\n        <div className=\"mt-12\">\n          <h2 className=\"text-2xl font-bold text-white mb-4\">Recomendaciones</h2>\n          <Swiper\n            spaceBetween={20}\n            slidesPerView={6} // Ajustado para mostrar 6 recomendaciones\n            breakpoints={{\n              640: {\n                slidesPerView: 1,\n                spaceBetween: 10,\n              },\n              768: {\n                slidesPerView: 2,\n                spaceBetween: 10,\n              },\n              1024: {\n                slidesPerView: 6, // Mostrar 6 en pantallas grandes\n                spaceBetween: 20,\n              },\n            }}\n          >\n            {recommendations.slice(0, 20).map(rec => (\n              <SwiperSlide key={rec.id} className=\"flex-shrink-0 text-center\">\n                <div className=\"relative\">\n                  {/* Enlace para redirigir al detalle de la recomendación */}\n                  <a href={`/details/${rec.media_type || type}/${rec.id}`} className=\"block\">\n                    {rec.poster_path ? (\n                      <img\n                        src={`https://image.tmdb.org/t/p/w300${rec.poster_path}`}\n                        alt={rec.title || rec.name}\n                        className=\"w-full h-full object-cover rounded-lg\"\n                      />\n                    ) : (\n                      <div className=\"w-full aspect-[2/3] bg-gray-800 flex items-center justify-center rounded-lg\">\n                        <ImageOff size={48} className=\"text-gray-500\" />\n                      </div>\n                    )}\n\n                    <div className=\"text-white p-2\">\n                      <p className=\"font-semibold text-sm\">{rec.title || rec.name}</p>\n                      {rec.vote_average && (\n                        <p className=\"text-xs text-yellow-400\">⭐ {rec.vote_average.toFixed(1)}</p>\n                      )}\n                    </div>\n                  </a>\n                </div>\n              </SwiperSlide>\n            ))}\n          </Swiper>\n        </div>\n      )}\n    </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1926, "column": 0}, "map": {"version":3,"sources":["file://E%3A/ASNPORTS/PELICULAS/The%20Show%20Verse/the-show-verse/src/app/details/tv/%5Bid%5D/page.jsx"],"sourcesContent":["'use client'\nimport { useEffect, useState } from 'react'\nimport { useParams } from 'next/navigation'\nimport {\n  getDetails,\n  getRecommendations,\n  getCredits,\n  getProviders,\n  getReviews\n} from '@/lib/api/tmdb'\nimport DetailsClient from '@/components/DetailsClient'\n\nexport default function TvDetailsPage() {\n  const { id } = useParams()\n\n  const [data, setData] = useState(null)\n  const [recommendations, setRecommendations] = useState([])\n  const [castData, setCastData] = useState([])\n  const [providers, setProviders] = useState([])\n  const [reviews, setReviews] = useState([])\n\n  useEffect(() => {\n    const fetchDetails = async () => {\n      const details = await getDetails('tv', id)\n      setData(details)\n\n      const [\n        recs,\n        revs,\n        provs,\n        cast\n      ] = await Promise.all([\n        getRecommendations('tv', id),\n        getReviews('tv', id),\n        getProviders('tv', id),\n        getCredits('tv', id)\n      ])\n\n      setRecommendations(recs?.results || [])\n      setReviews(revs?.results || [])\n      setProviders(provs?.results?.ES?.flatrate || [])\n      setCastData(cast?.cast || [])\n    }\n\n    fetchDetails()\n  }, [id])\n\n  if (!data) return null\n\n  return (\n    <DetailsClient\n      type=\"tv\"\n      id={id}\n      data={data}\n      recommendations={recommendations}\n      castData={castData}\n      providers={providers}\n      reviews={reviews}\n    />\n  )\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAOA;AAVA;;;;;;AAYe,SAAS;IACtB,MAAM,EAAE,EAAE,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACzD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAEzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,eAAe;YACnB,MAAM,UAAU,MAAM,CAAA,GAAA,yHAAA,CAAA,aAAU,AAAD,EAAE,MAAM;YACvC,QAAQ;YAER,MAAM,CACJ,MACA,MACA,OACA,KACD,GAAG,MAAM,QAAQ,GAAG,CAAC;gBACpB,CAAA,GAAA,yHAAA,CAAA,qBAAkB,AAAD,EAAE,MAAM;gBACzB,CAAA,GAAA,yHAAA,CAAA,aAAU,AAAD,EAAE,MAAM;gBACjB,CAAA,GAAA,yHAAA,CAAA,eAAY,AAAD,EAAE,MAAM;gBACnB,CAAA,GAAA,yHAAA,CAAA,aAAU,AAAD,EAAE,MAAM;aAClB;YAED,mBAAmB,MAAM,WAAW,EAAE;YACtC,WAAW,MAAM,WAAW,EAAE;YAC9B,aAAa,OAAO,SAAS,IAAI,YAAY,EAAE;YAC/C,YAAY,MAAM,QAAQ,EAAE;QAC9B;QAEA;IACF,GAAG;QAAC;KAAG;IAEP,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,8OAAC,mIAAA,CAAA,UAAa;QACZ,MAAK;QACL,IAAI;QACJ,MAAM;QACN,iBAAiB;QACjB,UAAU;QACV,WAAW;QACX,SAAS;;;;;;AAGf","debugId":null}}]
}